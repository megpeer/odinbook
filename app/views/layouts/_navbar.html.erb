<div><% if user_signed_in?%>
<%= "#{current_user.name} currently signed in"%>
    <%= link_to "View My Profile", profile_path(current_user),
                                    class: "bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" %>

    <%= link_to "Logout", destroy_user_session_path, data: { turbo_method: :delete },
                        class: "bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" %>
    <%= link_to "Home", root_path,
                        class: "bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" %>
    <%= link_to "Feed", feed_path,
                        class: "bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" %>

<%# ------ searchbar ------%>
    <%= form_with(url: profile_index_path, 
                method: :get,
                data: {controller: "search-form",
                turbo_frame: "names",
                turbo_action: "advance"
                }
            ) do |form| %>
    <%= form.label :query, "search users:", class: "block mb-2" %>
    <div class="flex space-x-3">
        <%= form.text_field :query, class: "py-3 px-4 rounded border ring-0 border-blue-500 focus:ring-4 focus:ring-blue-100 focus:shadow-none focus:border-blue-600 focus:outline-none",
                                    data: {action: "input->search-form#search"} %>
       
    </div>
    <% end %>    
<%# ------ /searchbar ------%>
    <turbo-frame id="names">
        <% if defined?(@names) %>
            <%= render partial: "profile/name",
                        collection: @names,
                        as: :user%>
        <% end %>
</turbo-frame>

    <% else %>
    <%= link_to "Sign In", new_user_session_path,
                        class: "bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" %>
<% end %>
</div>