
    <% if current_user == user %>
    <!-- viewing own profile -->
    <%= link_to "Edit Profile", edit_user_registration_path(user), data: { turbo_frame: "_top" } %>

    <% elsif current_user.friend?(user) %>
    <!-- already friends -->
    <%= button_to "Unfriend",
                    profile_unfollow_path(id: user.id),
                    method: :delete %>
    
    <% elsif current_user.pending_request_to?(user) %>
    <!-- I sent request -->
    <%= button_to "Cancel Request",
                    profile_unfollow_path(id: user.id),
                    method: :delete %>
    
    <% elsif current_user.pending_request_from?(user) %>
    <!-- They sent request -->
    
    <%= button_to "Accept Request",
                    profile_accept_path(id: user.id),
                    method: :patch %>
    
    <% else %>
    <!-- no existing relationship -->
    <%= button_to "Add Friend",
                    profile_follow_path(id: user.id),
                    method: :post %>
    <% end %>

